import ast, operator, math
import sys
from fractions import Fraction

class ExprVisitor(ast.NodeVisitor):
    binOps = {
        ast.Add: operator.add,
        ast.Sub: operator.sub,
        ast.Mult: operator.mul,
        ast.Div: operator.truediv,
        ast.Mod: operator.mod,
        ast.Pow: operator.pow,
        ast.BinOp: ast.BinOp,
    }

    unOps = {
        ast.USub: operator.neg,
        ast.UAdd: operator.pos,
        ast.UnaryOp: ast.UnaryOp,
    }

    ops = tuple(binOps) + tuple(unOps)

    def float_to_factorial(self, num):
        if isinstance(num, float) and num % 1 > 0:
            units, frac = str(num).split('.')
            return Fraction(int(units + frac), 10 ** len(frac))
        elif isinstance(num, float):
            units, frac = str(num).split('.')
            return Fraction(int(units), 1)
        return Fraction(num)

    def checkmath(self, x, *args):
        if x not in [x for x in dir(math) if not "__" in x]:
            raise SyntaxError(f"Unknown func {x}()")
        fun = getattr(math, x)
        return fun(*args)

    def generic_visit(self, node):
        for child in ast.iter_child_nodes(node):
            if isinstance(child, list):
                for item in child:
                    if isinstance(item, ast.AST):
                        return self.visit(item)
            elif isinstance(child, ast.AST):
                return self.visit(child)

    def visit_Num(self, node):
        return self.float_to_factorial(node.value)

    def visit_BinOp(self, node):

        if isinstance(node.left, self.ops):
            left = self.visit(node.left)
        else:
            left = self.float_to_factorial(node.left.value)

        if isinstance(node.right, self.ops):
            right = self.visit(node.right)
        else:
            right = self.float_to_factorial(node.right.value)

        res = self.binOps[type(node.op)](left, right)
        return res

    def visit_UnaryOp(self, node):
        operand = node.operand.value
        return self.unOps[type(node.op)](operand)


def exact_eval(expr):
    tree = ast.parse(expr)
    # print(ast.dump(node))
    res = ExprVisitor().visit(tree)
    print(res)
    return res


if __name__ == "__main__":
    # assert exact_eval("2 * 7 + 3 / 5") == Fraction("73/5")
    # assert exact_eval("-2 * (7 + 3) / 5") == Fraction("-4")
    # assert exact_eval("(11/345 + (5.56+32.30)/2.) / 7")  == Fraction("18691/6900")
    # assert exact_eval("(((((597 / 382) * 343 * 810.) % 703.) - 1.68 - (874 * ((371 + 42 - 9.63 * (.362 / .552) + 2.58 + (467 / 17.1) + (136 - (5.08 + 693 - 923 / (720. - 406) + 508 - 12. % 826 * 874))) * (532. + 406))) * ((15.1 + 712 / 70 + (.959 * 343) % 726 + (61.8 * ((411. * 577) + (498 - 43.9 + 749)) + ((793 - 654 / (96.9 / 906 + 720) + 646) * 46.7) - (564 / 541))) - (910 - 465 * 584 * (325 % 6.49))) + (886 / (8.47 - 867) / ((931 % 479) + 31.6))) * ((240 % 532 * 65.5) / 4.24 + 114 * 4.37 * 438 + 951 * 99 / 55 / 731 / 70) * (((961 + (744 + 96) * (149 / 295. * 379 / (930 - 577.) - 394)) - (731 + 17.3 % 713) * (426 % 450 - (811 - 212)) / (46.6 / (891 - .208 * 643 - .786 + .128) % 767 - 392 - (18 / 623) * 105. / (5.62 / 123)) - ((25.9 * 800.) / 921 - 664 / 979.) % (432 * .4 - (811 / 290 / 334 / (.724 % 685))) / .269 - (657 + 342 + ((698 * 27. * 636) + (36 * 79. % 436 % 962) * .193 * (409 + 536)) % 524. / (.34 * ((65.3 / 906) - 6)) / (7.15 - 176) - ((527 + 12.5) + 9.3))) + ((380 / 936) - 345 / 280. % 80.5 / (((285 % (26.5 * 420 % 581) % 859.) / 57.7) % (241 + 75 * (.48 + 94.0) / .070 + .31) - (4.31 - (43. - (276 * .446) * 340)) / ((3.1 + 9.7) * 522. * 9.13))) / (.801 * 908 % 524 * (124 - ((83.1 * (8.5 + 67.1) - 822) + 898 * (443. - (488 - 493) * 477.)))) + ((493 / 694. % 604) % 636 % 906 * (627 - 2.09) - 734.) - 831 / 976 % 953 / 3.05) % (((910 % 7.6 * 480 * 341 + ((310 / (2.82 - 111.)) / ((.081 + 223) - 115))) % 825 * 540 / (647 * 971 / 934 * 921 - 37.5)) % .503 - (.066 % .922) + (186. + (2.21 + 528.) / 969 * 7.97) % (((266. / 843 % (340 % .798 - ((.111 % 22.) / 61)) % 5.53 + 9.78 - .134) + (9.80 / 978) + 628) % ((477 - .775 / 994 / (331. * 25.7 % 52.8 / 761 / (204 % 941) % (278 + 767))) * 874 / (935 * 6 - (385 + 962)))))) / (((9.73 + 7.02 / 177 + (49.3 % ((576. - 564 * 275) + 391)) % ((386 / 1.73) * (.24 / 568 % 656 / 5.24) / 718 * 736.) + ((((304 % 489) + 41 + 99) + 356) / (477. * (66 + 8.49) / 74))) / (3.91 / ( - 85)) - ((((475 + 595) * (78 / 471)) / (310 % 28) - 22.5) % (79.9 / 796)) - 28.6 * 52.2 * ((390 % (695 * 356 / 4.98)) + (.493 / (6.47 + .931) - .77 / 63)) / (341. - 273 * (421 - 4.99 % 801.) + 132 / (375. * .333) - 238 / 494. * 711 * (79.5 % .439))) - (61.4 / 66.2)) * (129. - (.038 * 511 * 908) / (.156 + 2.75) / (465 % .871 - (330 * 971 - (504 * 280))) * 194 * 249 / (.551 - .673) / (.8 * 534) / ((5.49 - 180 + 36) - (11 * 375 * (2.87 + 200))) * ((((883 + 185) * 827) % (242 % 214)) - (402 % 155) / 807) / 735 - 866 % (30.2 % .494 * 639 - (641 % 113 - 83 + .87)) / 749 + 539 * 246 % 562) * ((198 - (((3.00 / 454) + (667 * .739 + 917)) / 119) % ((.951 % 288.) - 574.) - ((((727. * 470 % 353.) / .223) * 798 * 113 - (4.72 * 566)) / 953 - ((666 / (588 + 3.75 + 815 % 8.4) / 651 - (435 % 107)) / (94 / (729 - 647))))) % (995 / ((937 / 641. - (462. * 818) % 11.9 + (961 + ((245 + (401 * 437) * 29.3) * 106)) % 536) - (((396 - 960) + 5.56) * ((583 - 619) + 377) - ((96.0 + (459. - 164)) - (176 % 8.17)) / 6.79))) * 3.2 % (864 + 25.2 - (806 + 81) % 696. / 3.68) % ((410 - 8.45) + (472 - 329.)) % ((478 + (955. / 280)) * .89) / 5.44 % 763 + (.622 % 72.0 % 830) / 440. + 482) % (143 % 877) - (774 / (706 + 936 - 741) % 1.85 - (389 / 888 + 9.79 * (93.6 + 263) + (((239 % 653 * 5.51) / 964) / (204 % 820 + 5.69))) % ((324 - 633) * .655 - 164 - (500. * 541.)) * 744) + ((((38.6 + 25.9 / 697) % (((.46 % 858) - (608. - (473 - 7.04 - 374)) + (810 * 69)) % 924)) + ((364 - 242 % 398. + 80.1 % (772 * 12)) / .516 * (312 + 99.8) * (198 * 713 % 918 / ((.909 % 482) * (281 % 55.0 * 55.4 + 758))))) - ((616. + (555. % 1 + 9.22 % (964. % 96.4 + (7.77 * 817 - 476))) / 393) * ((923 / 678) * .168 - .574)) / 336 * (971 / 506) * (784 * 449))")  \
    #     == Fraction("-6427912589766769427391123659153915351339177128287251625572730669656049616745326604203092341062788953841047922909842516350639775136480486485528622167462175231523760248428422825464155796850647432631332935954216978754418213693121781031/32401695422472823244062274415589891844901947683581322202933281331028433225811327665336353019198127221821200690034820734650615097524382812650151180310289779040127874974476740309501780866334672426709180150927888500000000000000")
    # assert exact_eval("((((630 % 6.7) / (298 / 77.8 + 10 * (410. % (10.6 - 639)) * 912. + ((657 / 13 - 831 % 730) + ((194 * 93. - 369) % 556 + 613 - 802))) * ((799 + 309 + (14.6 / 700) / 81 % 69 % (12 + 468.) % (314 * 924) / (84.4 * 820) + 58.2 - 654 + 714 % 552 * (295 * (649 + 877 + 8.18)) % (63 + 156 - (68 * 698)) + (8.54 / 706 * (618. % 877) + 993 % 529) % (55.0 % 99 - 296) % (.68 + 659)) % (7.72 % 124 % (758 + 3.75 % 856) + 77 * 89.8 + ((19.6 % 682.) / 426) + ((120 * 419) + 79 - 214) % 122 / 10 - ((747. / (38 / 657)) - (316 % 660)) - 988 * 83.8 * (564 - (774 / 214)) % ((930 - 530. + 245 + 2.57 - 756. % 505 - 5.60 + 4.11) / 113 * 594) / 70 % 119. / .82 * 868 / (((323 % .826) % 959) * (942 / 817) * 382 / 831 % ((918 * 118 / 655) - .520 / (57 / 326)))))) + ((588 / (((247 - ((53 * 4.66) % 271) - 58. * 318 + 39) % 9.56 % 54.5) * ((541. * 385) % ((751. - 409 % (92 * 432)) - (141 + 521)))) * ((167 + ((923 % 217) - 121 - 393 % 660 / 222 * 839 / (826. - .455))) % (((286 * (57.5 * 541 - (6.3 - 559))) / .589 + 73 % 76 / (98 + 913)) + ((343 / (793 % 88 / 866 * 588)) / 605)))) + ((((104 - .908) * 46 * (.634 / 359 + (571 * 435) / (769 * 774.) % 347 * 372 * 884 - 658 - (202 + (757 % 961) / 184.))) / (77.5 - 340 * 59.6) / 25.1 / 100 * (386 - 28.0) + 6.90 - 189 + 888 - 591) * (((525 / .9) % 413 + .00 * (650. * 34 - 324) + 37.7 / 193 - 752) - 344 / 682 / (43.9 + 31 * 242 / 368 % (610 % 700 % 954) / 575 % 669) / (((922. * 9.52 * 155) % (.452 / 331.)) - 113) + 2.44 % 19 % 322 / 197 + 77. * 670 + (721 / 928) + (734 - 406 * .598) % 485 % ((321 * 72.8) * .124)) * (((988 % 886) % (447. * 629 - 828 - .964 + 308 * 559 - 325 * (13.7 / 45.6) % (73.9 / 954 * 277)) * 729 / .230 * 868 * 101. - (328 + 107 * 369) % (484. % (66 / 154 - ((4.41 / 510) * 115))) + ((474 * 929) + (148 + 75 - 3.42 * (36.7 % 52.4) + (511 / 427) - 371 / 5.62 + 2.91 / 343. + 376 - 944)) + ((716. - 354) % 431 / 83.0)) / ((7.89 + (621 % (451 * 391))) * 354 + 793 - (637 - 515) - (999. - 279)) + ((169 - (((150 % 14.1) / 447 % 51.0) * 970) % (.917 / ((451. - .137 - 716 - 351 - (619 * 200.)) % 764) - 543) + (61.6 - 2.57 + 478)) * (107 / (3.87 / 84)) * (76.3 - .28)) + (.778 / 6.44 + 5.8) + 77. % (344 / 946 % 581) % (874. / 202 + 145. % 831) * ((5.15 % 688 - 103. / 959 / 943 - 766 % 79.8 - 581 % 534) + (.738 / 8.68 / .485 + 708) + ((.556 % 8.83) / 495 % (((943 * .590) % (153. % (227 - 514))) - 256)) / 65 + 989 + 712) / ((.312 / 526.) + 65. + (8.49 / (176 - 172)) / (38.2 * 710 * (716 / 861) - 4.86)))) / (((((626 + 353) - 59) / 591 + (1.51 * 822.) + .451 * 58.0 % ((.046 + 717 * 66) - 5.38) - (66 % 94) / 4.3) + (883 * 787)) - 191 % 412 - 671 * 9.20))) - ((585. - 492) + (71.1 % ((4.16 - 875 / (122 * 762)) - 925 + 41 * (311 + (83.7 * 8.28) + 373 + .368 % (478. / 441 * 60 % 9.45)) + 841)) + 693 + 290 - 6.47 - (((399 - 849) + (4.84 % 323. - 2.77)) + ((658. * 870) % 43.5 + 845 * 635 * .831) % ((277 * 9.0) / 10.3 - (714 + 546)) % 491 * 226 % 320 - 359 * (70 - 241) / (53.0 % 157) - 526 % (45 - (474 - .06 % 793. / 426)) - (((818 + 360. * (464 - 562) / 456. % ((5. % 892 / 7.83 % 911 / .376) % 76 / ((636 + 412) - 438 - 948.))) * ((592 / 981) - ((423 * 2.41) % 4.11) - (((4.41 % .714) / 17.5) / (7.44 - (.1 * 128 - (17 + 686))) * ((52.1 - 155 - ((556 * 6.79) + 3.25 % 456) - 508 + 9.10) * 615 / 522)))) - ((5.67 + 476 + ((69 * 889.) % 4.96) / (718 - .746 * (.893 + 536) + (.833 * 374)) * (901 % .032)) % (572. % (8.93 + ((599 - ((542 - 40.5 % (71.2 % 948)) + .423 + 355)) - 356.))) % ((200 * 383) - ((93 - .467) / (473 + 7.16 / 526) * 9.23) - 5.09 % .223) * (((80.5 / 1.99) + 8.0) % (681. % 472 / (7.32 + 109)) - (795 / .95)))) * ((((8.66 - 377) / 943. % (866. / 86.) / 447 / 66) + ((865 % 179) + (289 * 63.3) - (80.3 + 261 % .124) * 715. - (995 + 24 + 3.42) % (.739 + 193)) % 338. / 773 / 203) - (30 + 484 - 920 / 362 % 473)) * ((682 - ((860 % 596. * 5.21) % 809. * 12.9 + 386 / 411)) % (((368. % (9.71 * 242. + 5.32 % 91.6 * 8.32)) - (((453. / 507) / 638) * 15 % 598. * 336)) - (566. % 920))) - 8.56 % 5. + (407 * 67.9 / (385 - 984. * 952) + (520 % 129.) - ((3.43 * 955) / .621) / .747) % 51.3 / ((277 + 2.32) - (76 - (315 % 243)))) / ((((((74.2 / (.492 % 29) * 724 / .624) % 395 + 420) + 512. * (22 % 621)) / (815 - (81.2 + 9.9)) + 745 - (760. * 89) / .036 % ((.068 * 524) + 212. / .685 - 276) + 36.9 + 393) - ((689. - 754) % 4.05 * 289) % (22 + 341.)) - (753 * 37) - 2.93 * 708. - (.469 * 527) % 227.)) * (((.167 + (10.8 + ((225 - 392) + 442 * 462 * 773))) - 55.7) % 558 * (((569 % 6.1 / 20.8) % 615 - 889 / 530 * 35.) - ((156 + (9.98 + 3.46) - 860) % .16 % 69)) * (866 / 149 % 3.03 % 216 + 547 + (((((14 * 521) / 251) / 293 + 58.6) * (.587 - (427 * 95))) % (189 + 763 * 151)) / (310 - 737 * 804.) / (906 / 3.20 / 627) * (405 + .219 - (150 * (656. * 896))) - (((30.7 * 992 - (474 * 249 + 646 - 319) * 250) + (6.16 + .603) - (915 - 390 / (899. * (644 * 9.66)) + ((232 / 579.) / .819 * 224 - 1.1) + 568 * 5.85) * 2.28 + (674 * 588) / ((69 * 255 / 7.53) + (397 % (574 * .070)) - 49. / (189 - .958 / 27.) / 939 % 346 * (28 - 649))) + (894 + 44.9)) - ((48.0 / 903. * 18.4) - 429 + 897) + (((432 / 70 % (32.1 % 428)) / 782 - (737 - 903) / 593) + 279. % 822 - 612. / 30.7 - (89 - 62.4) * (950 % 5.38 % 4.03)) / 212 - 909 * 540 + .458 * 802 + (290 + 472))) * ((((743 / 774 - 887 * 154) - 2.16 - 172 - 697 % (228 + 437 % .019) - (6.29 * 5.21) - (312. / 43.1 / (.074 + 789)) / ((56.5 - (641. - (219 / 788.))) / 150) - ((920 * 162 / 324 % 28) * 724 + 173) * (1.52 - (540 % 2.41 / 371)) - ((7.53 % 34) - ((393 * 3.13 + 24.0) - 521 - (41 / 4.95) + .352 + (335 * 535 * 449))) % (((7.6 * 5.43 + (647 / 692)) % (1.76 * .876 / .169 + 795)) * 282 + .291 * (660 * 105 * 51) - ((184 / 621) - (1.32 % 5.18))) + 579 + 159. - 482 + 927) % (754 + 293 % 606 / (.874 % 533 + 331) % ((772. + 926 / 991.) + (662 + 691) * 540. - 201) / 659. + (65.6 * 868)) - 819 % 956 + .606 - (((2.54 * .370) * 468) + 576 / ((999 % 721 * 551 + .9) - .087)) * (((952. / 76.4) - (783. - 9.04)) * 656.) * 412) % ((((216. + (847 + 756.)) % 748.) - (995 * 111) - 793) + (887 - (770 - (234 / 75 * .815 % 524)) + (((821 - (1.1 - 816)) / 58.2 * 876 - 890) % (928 + 611 / (842 * 89.9 + (56. % 5.14))))) + ((((714 / 984) * 89) * 728. + 24.7 - 459.) % (.272 + (309 / 49. * 49)) * 143) * (470 - 895) % .2 * 23 / .10 - (907 / 830.)) / 243 / (((887 + (705 + (433 / 35.8) * 536. + 879 - (373 + 2.6 / 901) / 16. + 72.6)) / 60.7 - ((885 + 624 + 383 % 75.0) % 20.7 / (400 / 344) / ((88 - 944) / 710 * 438 + 909 / 595 / 173 / 522) % (381 / 867 * 587)) + (.253 % 624 / .831 + 451 % ((679. * (285 + 8.37)) - (16 % 623)) / (529 + (537. + 877 - (807 / 731 - (870. + 690)) * 672)) % 47 * 831 / 872 + (70 % .964 + 2.23 + 337. / (60.6 % 79.6)) % 854) * (((((529 - 32.4) * 51.5) * (89.9 / (71.6 % .662))) + ((914 - 83.) % 954)) % 8.92) % (.969 - .261) * 157 - 601 * (((845 - (597 / 29.8 * 972)) + (12 / 71) / (481. * (9.7 + 4.0))) + 806 * 768.) % 147 - 399 % (951 * (3.25 + 1.92) / (.380 / 296.)) * ((246 % ((738 / .833) + .269) + (480 / .485 + 888 - (681. - .298)) - 919 + (823 - 400)) % (946 - 666 / 867) / .558) / ((247 - (288 - 3.14 * 359) - 6.72 % ((478 / 561.) / 822)) + ((9.66 / 834) - 527 * 991 + 219) / (96 / 53.1 / (.960 * 234 - 5.28) % 733 % 145 * (152 / .390) * ((((560 - 7.73 % 9.0) + 404 % 256 + (329 - 877 / 834 / 665.)) - 687.) + (910 + 985) * (491 - 897) + (.008 / .454)) % 121 * 470 / (421 * 609)) - (.676 / ((666 + 149) * 377 % 67.5) + ((((357 * 97.2 / 227) * 781 * (150 + 821.)) - (65.8 + 80.8 % 104 / 994)) - ((467 + (15. % (4.47 / 609))) * (621. * 20.5 * 459 * (30 * 879 * 518 % 56.5)))))) / (((.856 + 925) / 78.2 * 31.2) * ((((530 / 361 - 5.81 + 46.6) / (207 % 889)) * (.784 + 781) + 67.) - (((986 * 12) * 817) % 836 % 271 + 413 * 5.56))) - (81 / 23. / ((448 + 903 - .882) * 417)) * ((823 / 29.6) / (303 - .236)) * .685 % (2.48 + 25.2 * 806. / 260) + 567) + (((((831 / 6.04 / (.013 + (6.5 + 147.))) * 783.) - ((.981 / .655) / 595)) / 282 + (1.3 / 160 * 185) + 98.5 - 487 - .032 % 188 * 1.35 * ((1.9 + 82.2 - (498 - 948)) / ((340 + (.591 * 87 - 2.19 * 3.15)) + ((3.26 * .568) % .355)) + (951 * 765) * (.738 - 437 / 488.) - ((550 % 997.) + (848 * (4.93 + 715)))) - 91 * (((.349 % 988 % 96.9) - ((507. % 846) / 758) - 770 - (681 % 917) / 459) / 869 * 245 / (1.47 % 48.8 % 511 - (590 % 177)) + (126 / 136 * 143 + 504 - 9.05))) + ((.786 * 580 - (364. + 1. - 71.5) / (849. % .653 + 242 - 280 / 2.6 % 74.9 - .633)) % 879 / 731 / (910 / (711. + .29))) * (67.0 % 60.4) % (((((.454 * 493.) - (619 / 9.8)) % ((46.3 / 42.5) * 306)) % 358 % 632) % (((319 / 976) - (882. - 3.41)) % (634 / 17. / 89) / ((507 + 35.8) * 387) * 760 / 413 % (703 / 33.6 / (141 * .289)) + 872 / 30 * 965 - (412 / 51)) / (9.99 / (978 - 376)) - 747 + (543 / 88.5 + .045)) / (723 - (641 + (707 - (564 - 276)))) * (231 % 33) / 871 * .17) / (((510 % 214) - 56.3 + 18. * 11.4 - 27.3 - (5.33 % 933. + (850 - (531 - 123) + 7.1))) - (((151 + 534.) * 254) % ((100 - (123 % 63.3)) % 696.)) / (678 + 118) % (55. % 539) - 940 % 430 + (829 * 816 / 419 * 614) % ((.490 % .163 - 566) + (743 / (614 % 183.))) - 914 / (426 + (78.3 - 737 - 328))) * (.974 % 605 % 5.53 - 420 / ((680 / 259) % (323 % 87. - 268 + 225 % 99.3) / 48.9)) % ((821 * 592 - (((779 - (88. + (2.40 - 784.) * 648)) / 681. - (23.6 * 841)) + ((632 + 9.71) - 4.18) / ((500 % 401) - .879 - (330 - 4.01) * 5.38)) * 434 - 443 * .197 - .808 + 904) - (((247 % 503 / .003 + 841 * 771 % 36.8 * 596) % (326 % 821 * (92 + (60.4 * 183))) - 2.49 + .574 - (681 * 492. - 798) * (153 + .722)) % (((803 / 359 - 65) % .604 * 206 / ((.770 % ((187 - 357) - 374) - (961 + 2.7)) / 856 * ((86.2 % 948) + 418 / 690)) + ((549 - .972) + 247) / 536 / 102) * 898 / 304 * 63 - 53.1)) * ((840 - 20.2) + ((12.6 * 28.0 / 491 / (975 + .469) / (209 / 642) + 474) - (((402 / 1.7) % 4.41) * (558 * ((211 / .810) % 175)) + ((879 - (797 / 425) * 874 / 400.) + 676 - 565)))) / 848 % 711 - ((62.5 % 968) * 622) * 6.81 / .008 - 471 / (.151 + (6.17 - 830) - (267 % 702) % ((.267 - 755.) % 49 + (93 - ((541 + (165 - 385) / .871) * 4.88 % 128 % 997 + 718))) % ((585 % .517 / 312) / (2.86 + 19.8 + 171 + 963)) % (418 * (.641 - 530 - 877)) / 848. * 584. + (82 % (604 * (886 + 272 % 357)) % ((252 + (912 % 141)) + (839 * 949 - .857)) * 5.22))) % 891 * 877 - 983 % 249 + 567)) * ((((.227 % (((4.25 - 156) / 3.17 / 870 % 461 - 1.50) * 286 * 186. + 74 * .99) - 283 / (496 - 58.1) / 686 / .445 + (2.72 / 81. + (90. + 55.8) % 832) + (22.7 - 825 + 929 / 27 % 10 % 372. - 365 - 334) / (716 / 4.79)) + (((7.20 * 183) / ((156 % 295. % 270) - 5.63) % 142) / (836 - 945. + 9.67) % 1.58 * (62 % 873))) * (((.715 / 502. - 9.77 % .964) / .386) / 776 / (((279 / 996 - 345) % (817 - 135 + 476 % 797) - .024 - 302 / 54 / 374. % (9.5 * 587)) / 521) + (131. / 397. * 7.76 / 361 + 465 - 344 % 9.37 + 530 % 965 / 33 - (842 + 815) % (439. * 422) + (769 % (394 + 96.6 * 826)) / (80 / (460. * 172 / 368) + (.481 / (305 * (.56 % 741)))) * 539 - ((((196 - 249) * ((250 % .505 % 352.) + .809 % 917 * 493 % ((289 + 934) / 796 - 251 - 798) - (13.9 - 304 * 377) + (25.9 / 719 + 486) / 46.6)) % ((.551 * 8.32) - 33.4)) / (199 + (150 * 252) * ((184 % 381) - .308 % 21.2) + 768.))) * 658.)) * ((837. * 562 / 653 * (931 / ((106. / 304) + 782 - 1.73 - 677) - (.69 - 840 / 758 + 356 * (1.41 % .839))) - (188 % 448. / (338 - 326. / (412. + 952) / 475) * 784 + 59.4 + 536) * (.185 / 901 * 584 + 663)) + ((((.177 / 273) - (406 - 328) * 5.20) % (213 - 19.7) + 840 - 37.4 + .798 % 780 % 237) - (31 + (.156 * 750.) - (359 % 566 * 3.89) - 106.)) * (113 % 93 / 7.46 - 810 * ((793 / 53) + .225) % 25.0 / (519 - 593) / 2.59 % (890 - 845) - .209 + ((914 % 381) % 64 * 9.4)))) * (((((979 + 7.28) / 521) - (491. - 380) % (2.22 % 2.16) / (17 + 717)) - (6.88 / (.902 - 56.4 / 958) % (((47.1 % 4.28 * 707.) / .394) * .581) * (352 + 6.) % 273 * (52.4 * 34) % 363 / 175 - ((4.96 + 417) % 244 * 883 * 62.9) * (986 / 501 / ((65.2 / 11 - 60 % 625) * 760) - (((208 * 864 - 456) - 894.) - (899 - 83 + 1.) * 3.35 * (254 % (706 * .193) - (.814 / 778))))) + ((22 - 3.50 / 468) / ((772 + 737.) - (158 / 921. - .373)) * 693 * 96.1 - 89) + ((8.84 + (((16 + .933) + 793) * 667 / 625)) + 358 - 641 / 292 / ((884 * (756 * 954.)) - 391 / 4. / 2.52 % 489. / 148 - 668)) + (657 % 622 * 69.8) - .2 / ((884 * 678 - 134. + 906) * 847) / .81 - (923 / 2) + (27.6 * (564 % 128)) * ((86 * (6.74 % 671.)) % .532) / (909 - 498. / 872) + .623 * ((((((835 / 378. - 763) / 103 - 7.90) / ((938 * 423 - 421 - 732 / (584. + 55) - 42.3) - (464 / 8.01 + .456) - (476 * 175) / 94.6)) * (332 % 26.5 - (584 * 267 - 904 + 520 - (617 + 565) - (777 + 789) - (532 - 609)) * 71.9 - 499. * (7.79 + ((802 % 74.3) - (86 / 303.) / 214 % ((977 % 423) + 35.) - 831)))) / ((204 * 528 % .434 / (((608 % 266 * (596 + 7.82) / 188) % (827 / (973 + 541)) % 357 / (.326 + .32) / (((637 * 383) + 231) * 783 % (6.29 % 89.4))) + (493 % 7.39) * 859 + 953 * 325.)) * (869 + (50.8 * 5.22) + 2.0 / 36.0 + (((152 / 231) / (837 + 288 % 687)) / ((966 * 125 % 298) % 723 % (732. - 69) + 24 - .497) + (268 - (516 / 962)) * 327 % 72.2 / 776. / 2.38)))) / (((487 / .081) + (((657 + 267) * 825) * 405)) - (2.14 / 242 / 5.3) - 175 - 36.7 + (8.08 % 724 / ((4.65 * (665 % 967.)) % (.932 / 963 / (465 - .184)))) * .660 * 109.) % ((2.40 * 13) * (696 * 15.2 % 2.12)))) + 278 + 565 / 8.16 % ((113 * 5.56) / 10.4) - 2.43 / 461 + ((.865 / 539) * (.513 / ((618 + 213 - 45) % (35.3 + (767 / (37 - 999 * 45)))))))) % (283 * 65.7 / 179 + (55 / 936) % (.217 % 840.) + ((696. - (80.9 * (438 / 554) + 554) - ((435 / (669 - 2.63)) % 438 * (((36 / 296) - 786) % 874.)) - (563. * 29.2 % (246 * 941))) + ((((651 + (299. + 118)) / (938 * 478 * 51.2) % 150 - 540 % (((((4.92 - 239) + 35.3) * ((470 + 533.) * 17.6)) / (853 % (.123 / 190 - 823) + (102 - (670 % (713. % 922.) / (796 * .131)) + 67.6 / 843 + (37.0 - 976 % (.100 % (474. * 617 - 350)) * (66 / 307) * (210 - (484 - 1.91)))))) / (829 - 352) % 425)) * ((417 % (641. / (4.87 + 690))) % 659 % ((926. % 23.1) % (6.95 % 421.) + 3.15 / (9.47 % 457)) % (670 - 101. + 380 / 99 / (((763. + .967) + 248) + (952 + ((.884 % 942.) / 181) / (8.49 - 7.59) / 994 % 82.5 % (311 - 504) % 611. * .885) / ((.474 * 891) + 584 * .684) / ((297. % ((.330 % 49) + 680.) % 61.6) + .53 - 2.3) - (2.62 % 56 + 185. * 6.03 + .997)))) * (((3.5 + 2.1 + 7.4 * 139) + 757 % 25.8 + ((280. % 1.) + (1.22 + 863)) / ((602 + 197.) * ((((114. % 13.9) + (45.5 * (821. * .066 + 10.1) + 225)) - .607) * .203 % 673))) + (887 / 5.) % 443 % .613 / 7.58 * 597 + (783 / 686)) - (463. % (31.4 / 227) * 447 * 681 / (558 * 8.70) + (712 * 40) + (2.67 % 849) / 979 / 615 - 2.8 + 600)) + (985 - 335 % 63.4 % 961 * (149 + 960 % .028) / (717 / 74 - 880 * 9.76) - (613 * 709) - 414))))") \
    #     == Fraction("-151265032425087284982588266841514445780881466895409534631901021080335860890470200721350319549606774819765539572611713804444716481197996060701770214040204679415782074632434324129620425342140941200104317518906611060247730516791694529710343816824711756991650843797107109260441312744310001715999223442364792145733465945622244947916948311320996824772417574095233458835725654338337722732821640878437756310814202456569124742402244543609617713139480373179560169888858437847923329595821738733334589502585732591771265840211885775082613332811426524693916060922906548286539271098620983170822926050583423159657283162956518169348183208364173203375540348651614723705925173029286675912008838831838284229127949854082991528046493571228582373461260832744781/40509696335839477179206299442573574864425075548968769269881685214554173939402322852710640290554111313607659226944102229926121616967002100392604302677829207706616910925587124457593132266308795945394067392144733100460500036492175668284796629164296869799232315746173284865618374166685587916894146352313830980020092483580181740959981552728410235795451147749028020417026429979651430464498407735768140664707085105778709888672568489341825030982100860473256041530552103363551174816141387326546969642397585420638021113799929750301151763326276404553210331463139928789648784858669589923189283279449071234382691873967227148800087495267071658010242421175132370885883695475659349823121931515978267686667910595866162421875000000000000000000000000000")
    for line in sys.stdin:
        exact_eval(line)
